<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    html, body {
      background-color: #000;
      width: 100%;
      height: 100%;
      margin: 0;
      overflow: hidden;
      color: red;
    }
    #lottie {
      width: 100%;
      height: 100%;
    }
    #lottie > div {
      margin-top: 30px;
    }
  </style>
  <!-- Bodymovin can render Lottie JSON files on the web. -->
  <script src="/lottiejs/bodymovin.min.js" type="text/javascript"></script>
</head>
<body>
  <button onclick="play()">play</button>
  <button onclick="pause()">pause</button>
  <button onclick="stop()">stop</button>
  speed: <input type="range" min="1" max="10" step="1" value="1" onchange="setSpeed(this.value)">

  <div id="lottie"></div>

  <script>
    var animation;
    var animationContainer = document.getElementById('lottie');
    var range = document.getElementById('range');

    var animationParams = {
      container: animationContainer, // required → the dom element on which to render the animation
      path: 'data.json', // required
      renderer: 'svg', // required → 'svg' / 'canvas' / 'html' to set the renderer
      loop: false, // optional → true / false / number
      autoplay: false, // optional → true / false it will start playing as soon as it is ready
      name: "basic animation", // optional → animation name for future reference
    }

    animation = bodymovin.loadAnimation(animationParams);

    function play() {
      console.log(animation.currentRawFrame);
      console.log(animation.totalFrames);
      animation.play();
    }
    function pause() {
      animation.pause();
    }
    function stop() {
      animation.stop();
    }
    function setSpeed(speed) {
      console.log("Speed: " + speed);
      animation.setSpeed(speed);
    }

    animation.addEventListener('complete', test2);

    function test2(){
        console.log("Animation completed");
        animation.goToAndStop(0, 0);
    }
  </script>
</body>
</html>
